<!DOCTYPE html>
<html>
	<head>
		<title>Class Timer</title>
		<link rel="stylesheet" type="text/css" href="style.css">
	</head>
	<body class="body">
		<div class="main">
			<div class="main">
                <div class="daytypecontainer">
                    <p id="daytype" class="daytype"></p>
                    <p id="dayname" class="dayname"></p>
                    <p id="nextdaytype" class="nextdaytype"></p>
                    <p id="nextdayname" class="nextdayname"></p>
                    <p id="prevdaytype" class="prevdaytype"></p>
                    <p id="prevdayname" class="prevdayname"></p>
                </div>
				<div class="container">
                    <div class="title">CLASS COUNTDOWN</div>
				</div>
                <div id="time" class="time">00:00:00</div>
            </div>
		</div>


		<script type="text/javascript">	
            
            var date = new Date();
            day = date.getDay();
            checkedday = 0;
            displaytime = document.getElementById("time");
            window.onload = timecheck();
            
            function timecheck() {
                
                var now = new Date();
                currentyear = now.getFullYear();
                currentmonth = now.getMonth();
                currentday = now.getDate();
                currenthour = now.getHours();
                currentminutes = now.getMinutes();
                var currentTime = now.getTime();
                
                //school hasn't started yet
//                alert("school has not started yet");
                var eventDate = new Date(currentyear, currentmonth, currentday, 7, 55);
                var eventTime = eventDate.getTime();
                var remTime = eventTime - currentTime;
                calctime(remTime);
                
                if (day != "3"){
                    if (remTime <= 0){
                        //first block
//                        alert("school has started");
                        var eventDate = new Date(currentyear, currentmonth, currentday, 9, 25);
                        var eventTime = eventDate.getTime();
                        var remTime = eventTime - currentTime;
                        calctime(remTime);
                        if (remTime <= 0){
                            //first break
//                            alert("first break");
                            var eventDate = new Date(currentyear, currentmonth, currentday, 9, 40);
                            var eventTime = eventDate.getTime();
                            var remTime = eventTime - currentTime;
                            calctime(remTime);
                            if (remTime <= 0){
                                //second block
//                                alert("second block");
//                                document.getElementById("block").innerHTML = "secondblock";
                                var eventDate = new Date(currentyear, currentmonth, currentday, 11, 10);
                                var eventTime = eventDate.getTime();
                                var remTime = eventTime - currentTime;
                                calctime(remTime);
                                if (remTime <= 0){
                                    //lunch
//                                    alert("lunch");
                                    var eventDate = new Date(currentyear, currentmonth, currentday, 12, 0);
                                    var eventTime = eventDate.getTime();
                                    var remTime = eventTime - currentTime;
                                    calctime(remTime);
                                    if (remTime <= 0){
                                        //third block
//                                        alert("third block");
                                        var eventDate = new Date(currentyear, currentmonth, currentday, 13, 30);
                                        var eventTime = eventDate.getTime();
                                        var remTime = eventTime - currentTime;
                                        calctime(remTime);
                                        if (remTime <= 0){
                                            //third break
//                                            alert("third break");
                                            var eventDate = new Date(currentyear, currentmonth, currentday, 13, 45);
                                            var eventTime = eventDate.getTime();
                                            var remTime = eventTime - currentTime;
                                            calctime(remTime);
                                            if (remTime <= 0){
                                                //fourth block
//                                                alert("fourth block");
                                                var eventDate = new Date(currentyear, currentmonth, currentday, 15, 15);
                                                var eventTime = eventDate.getTime();
                                                var remTime = eventTime - currentTime;
                                                calctime(remTime);
                                                if (remTime <= 0){
                                                    //school is over
//                                                    alert("school is over");
                                                    var eventDate = new Date(currentyear, currentmonth, currentday+1, 7, 55);
                                                    var eventTime = eventDate.getTime();
                                                    var remTime = eventTime - currentTime;
                                                    calctime(remTime);
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                } else if (day == "3"){
                    if (remTime <= 0){
                        //first block
                        //first period
//                        alert("school has started");
                        var eventDate = new Date(currentyear, currentmonth, currentday, 8, 38);
                        var eventTime = eventDate.getTime();
                        var remTime = eventTime - currentTime;
                        calctime(remTime);
                        if (remTime <= 0){                 
                            //first block
                            //second period
                            var eventDate = new Date(currentyear, currentmonth, currentday, 9, 25);
                            var eventTime = eventDate.getTime();
                            var remTime = eventTime - currentTime;
                            calctime(remTime);
                            if (remTime <= 0){
                                //first break
//                                alert("first break");
                                var eventDate = new Date(currentyear, currentmonth, currentday, 9, 40);
                                var eventTime = eventDate.getTime();
                                var remTime = eventTime - currentTime;
                                calctime(remTime);
                                if (remTime <= 0){
                                    //second block
                                    //first period
                                    var eventDate = new Date(currentyear, currentmonth, currentday, 10, 23);
                                    var eventTime = eventDate.getTime();
                                    var remTime = eventTime - currentTime;
                                    calctime(remTime);
                                    if (remTime <= 0){
                                        //second block
                                        //second period
//                                        alert("second block");
//                                        document.getElementById("block").innerHTML = "secondblock";
                                        var eventDate = new Date(currentyear, currentmonth, currentday, 11, 10);
                                        var eventTime = eventDate.getTime();
                                        var remTime = eventTime - currentTime;
                                        calctime(remTime);
                                        if (remTime <= 0){
                                            //lunch
//                                            alert("lunch");
                                            var eventDate = new Date(currentyear, currentmonth, currentday, 12, 0);
                                            var eventTime = eventDate.getTime();
                                            var remTime = eventTime - currentTime;
                                            calctime(remTime);
                                            if (remTime <= 0){
                                                //third block
                                                //first period
                                                var eventDate = new Date(currentyear, currentmonth, currentday, 12, 43);
                                                var eventTime = eventDate.getTime();
                                                var remTime = eventTime - currentTime;
                                                calctime(remTime);
                                                if (remTime <= 0){
                                                    //third block
                                                    //second period
                                                    var eventDate = new Date(currentyear, currentmonth, currentday, 13, 30);
                                                    var eventTime = eventDate.getTime();
                                                    var remTime = eventTime - currentTime;
                                                    calctime(remTime);
                                                    if (remTime <= 0){
                                                        //third break
//                                                        alert("third break");
                                                        var eventDate = new Date(currentyear, currentmonth, currentday, 13, 45);
                                                        var eventTime = eventDate.getTime();
                                                        var remTime = eventTime - currentTime;
                                                        calctime(remTime);
                                                        if (remTime <= 0){
                                                            //fourth block
                                                            //first period
                                                            var eventDate = new Date(currentyear, currentmonth, currentday, 14, 28);
                                                            var eventTime = eventDate.getTime();
                                                            var remTime = eventTime - currentTime;
                                                            calctime(remTime);
                                                            if (remTime <= 0){
                                                                //fourth block
                                                                //second period
                                                                var eventDate = new Date(currentyear, currentmonth, currentday, 15, 15);
                                                                var eventTime = eventDate.getTime();
                                                                var remTime = eventTime - currentTime;
                                                                calctime(remTime);
                                                                if (remTime <= 0){
                                                                    //school is over
//                                                                    alert("school is over");
                                                                    var eventDate = new Date(currentyear, currentmonth, currentday+1, 7, 55);
                                                                    var eventTime = eventDate.getTime();
                                                                    var remTime = eventTime - currentTime;
                                                                    calctime(remTime);
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
                
                if (checkedday == 0){                    
                    checkday();
                }
                
                setTimeout(timecheck, 100);
            }
            
            function checkday(){
                if (day == "1" || day == "4"){
                    document.getElementById("daytype").innerHTML = "A";
                } else if (day == "2" || day == "5"){
                    document.getElementById("daytype").innerHTML = "B";
                } else if (day == "3"){
                    document.getElementById("daytype").innerHTML = "C";
                }
                
                if (day == "1"){
                    document.getElementById("dayname").innerHTML = "Mon.";
                } else if (day == "2"){
                    document.getElementById("dayname").innerHTML = "Tues.";
                } else if (day == "3"){
                    document.getElementById("dayname").innerHTML = "Wed.";
                } else if (day == "4"){
                    document.getElementById("dayname").innerHTML = "Thurs.";
                } else if (day == "5"){
                    document.getElementById("dayname").innerHTML = "Fri.";
                }
                
                prevday = day - 1
                nextday = day + 1
                
                if (prevday == "1" || prevday == "4"){
                    document.getElementById("prevdaytype").innerHTML = "A";
                } else if (prevday == "2" || prevday == "5"){
                    document.getElementById("prevdaytype").innerHTML = "B";
                } else if (prevday == "3"){
                    document.getElementById("prevdaytype").innerHTML = "C";
                }
                
                if (prevday == "1"){
                    document.getElementById("prevdayname").innerHTML = "Mon.";
                } else if (prevday == "2"){
                    document.getElementById("prevdayname").innerHTML = "Tues.";
                } else if (prevday == "3"){
                    document.getElementById("prevdayname").innerHTML = "Wed.";
                } else if (prevday == "4"){
                    document.getElementById("prevdayname").innerHTML = "Thurs.";
                } else if (prevday == "5"){
                    document.getElementById("prevdayname").innerHTML = "Fri.";
                }
                
                if (nextday == "1" || nextday == "4"){
                    document.getElementById("nextdaytype").innerHTML = "A";
                } else if (nextday == "2" || nextday == "5"){
                    document.getElementById("nextdaytype").innerHTML = "B";
                } else if (nextday == "3"){
                    document.getElementById("nextdaytype").innerHTML = "C";
                }
                
                if (nextday == "1"){
                    document.getElementById("nextdayname").innerHTML = "Mon.";
                } else if (nextday == "2"){
                    document.getElementById("nextdayname").innerHTML = "Tues.";
                } else if (nextday == "3"){
                    document.getElementById("nextdayname").innerHTML = "Wed.";
                } else if (nextday == "4"){
                    document.getElementById("nextdayname").innerHTML = "Thurs.";
                } else if (nextday == "5"){
                    document.getElementById("nextdayname").innerHTML = "Fri.";
                }
                
                checkedday = 1;
            }
            
            function calctime(remTime){
                var s = Math.floor(remTime / 1000);
				var m = Math.floor(s / 60);
				var h = Math.floor(m / 60);
				var d = Math.floor(h / 24);

				h %= 24;
				m %= 60;
				s %= 60;

				h = (h < 10) ? "0" + h : h;
				m = (m < 10) ? "0" + m : m;
				s = (s < 10) ? "0" + s : s;
                
//				document.getElementById("days").textContent = d;
//				document.getElementById("days").innerHTML = d;

//				document.getElementById("hours").HTMLContent = h;
//				document.getElementById("minutes").textContent = m;
//				document.getElementById("seconds").textContent = s;
                
                document.getElementById("time").innerHTML = h + " : " + m + " : " + s;
            }
            
            timecheck();
            
		</script>
		</body>
</html>