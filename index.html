<!DOCTYPE html>
<html>
	<head>
		<title>Time</title>
		<link rel="stylesheet" type="text/css" href="style.css">
	</head>
	<body class="body">
		<div class="main">
			<div class="main">
                <div class="daytypecontainer">
                    <p id="daytype" class="daytype"></p>
                </div>
				<div class="container">
                    <div class="title">CLASS COUNTDOWN</div>
<!--                    <div id="prevdaytype" class="prevdaytype">A</div>-->
				</div>
                <div id="time" class="time">00:00:00</div>
            </div>
		</div>


		<script type="text/javascript">	
            
            var date = new Date();
            day = date.getDay();
            checkedday = 0;
            displaytime = document.getElementById("time");
            window.onload = timecheck();
            
            function timecheck() {
                
                var now = new Date();
                currentyear = now.getFullYear();
                currentmonth = now.getMonth();
                currentday = now.getDate();
                currenthour = now.getHours();
                currentminutes = now.getMinutes();
                var currentTime = now.getTime();
                
                //school hasn't started yet
//                alert("school has not started yet");
                var eventDate = new Date(currentyear, currentmonth, currentday, 7, 55);
                var eventTime = eventDate.getTime();
                var remTime = eventTime - currentTime;
                calctime(remTime);
                    
                if (remTime <= 0){
                    //first block
//                    alert("school has started");
                    var eventDate = new Date(currentyear, currentmonth, currentday, 9, 25);
                    var eventTime = eventDate.getTime();
                    var remTime = eventTime - currentTime;
                    calctime(remTime);
                    if (remTime <= 0){
                        //first break
//                        alert("first break");
                        var eventDate = new Date(currentyear, currentmonth, currentday, 9, 40);
                        var eventTime = eventDate.getTime();
                        var remTime = eventTime - currentTime;
                        calctime(remTime);
                        if (remTime <= 0){
                            //second block
//                            alert("second block");
//                            document.getElementById("block").innerHTML = "secondblock";
                            var eventDate = new Date(currentyear, currentmonth, currentday, 11, 10);
                            var eventTime = eventDate.getTime();
                            var remTime = eventTime - currentTime;
                            calctime(remTime);
                            if (remTime <= 0){
                                //lunch
//                                alert("lunch");
                                var eventDate = new Date(currentyear, currentmonth, currentday, 12, 0);
                                var eventTime = eventDate.getTime();
                                var remTime = eventTime - currentTime;
                                calctime(remTime);
                                if (remTime <= 0){
                                    //third block
//                                    alert("third block");
                                    var eventDate = new Date(currentyear, currentmonth, currentday, 13, 30);
                                    var eventTime = eventDate.getTime();
                                    var remTime = eventTime - currentTime;
                                    calctime(remTime);
                                    if (remTime <= 0){
                                        //third break
//                                        alert("third break");
                                        var eventDate = new Date(currentyear, currentmonth, currentday, 13, 45);
                                        var eventTime = eventDate.getTime();
                                        var remTime = eventTime - currentTime;
                                        calctime(remTime);
                                        if (remTime <= 0){
                                            //fourth block
//                                            alert("fourth block");
                                            var eventDate = new Date(currentyear, currentmonth, currentday, 15, 15);
                                            var eventTime = eventDate.getTime();
                                            var remTime = eventTime - currentTime;
                                            calctime(remTime);
                                            if (remTime <= 0){
                                                //school is over
//                                                alert("school is over");
                                                var eventDate = new Date(currentyear, currentmonth, currentday+1, 7, 55);
                                                var eventTime = eventDate.getTime();
                                                var remTime = eventTime - currentTime;
                                                calctime(remTime);
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
                
                if (checkedday == 0){                    
                    checkday();
                }
                
                setTimeout(timecheck, 100);
            }
            
            function checkday(){
                if (day == "1" || day == "4"){
                    document.getElementById("daytype").innerHTML = "A";
                } else if (day == "2" || day == "5"){
                    document.getElementById("daytype").innerHTML = "B";
                }
                checkedday = 1;
            }
            
            function calctime(remTime){
                var s = Math.floor(remTime / 1000);
				var m = Math.floor(s / 60);
				var h = Math.floor(m / 60);
				var d = Math.floor(h / 24);

				h %= 24;
				m %= 60;
				s %= 60;

				h = (h < 10) ? "0" + h : h;
				m = (m < 10) ? "0" + m : m;
				s = (s < 10) ? "0" + s : s;
                
//				document.getElementById("days").textContent = d;
//				document.getElementById("days").innerText = d;

//				document.getElementById("hours").textContent = h;
//				document.getElementById("minutes").textContent = m;
//				document.getElementById("seconds").textContent = s;
                
                document.getElementById("time").innerHTML = h + " : " + m + " : " + s;
            }
            
            timecheck();
            
		</script>
		</body>
</html>